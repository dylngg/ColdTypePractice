function popQueues(e){output.textContent=output.textContent.substr(1),queue.dequeue(),!0===e&&wordQueue.dequeue()}function appendQueues(e,t){output.textContent+=e,queue.enqueue(e.split("")),!0===t&&(output.textContent+=" ",queue.enqueue(" "),wordQueue.enqueue(e.split(" ")))}function changeType(e){type=e.value,resetToType()}function changeCapitalization(e){capitalization=e.value,resetToType()}function changeFunctionality(e){functionalities.reset=!0}function resetToType(){var e=getRandom(type,capitalization),t="";for("word"!=type&&"longWord"!=type||(t=" ");e.length<18;)e+=t+getRandom(type,capitalization);"word"!=type&&"longWord"!=type||(e+=" "),queue=new Deque,(wordQueue=new Deque).enqueue(e.split(" ")),queue.enqueue(e.split("")),output.textContent=e}function getRandom(e,t){return("longWord"===e?getRandomWord(!0):"word"===e?getRandomWord():"alphabet"===e?getRandomChar(!0):getRandomChar()).capitalize(t)}function getRandomChar(e){var t=0==Math.round(Math.random());void 0!==e&&(t=0);var u="abcdefghijklmnopqrstuvwxyz".split(""),n=0==t?u:["~","!","1","@","2","#","3","$","4","%","5","^","6","&","7","*","8","(","9",")","0","_","-","+","=",";",":","'",'"',",","<",".",">","/","?"];return n[Math.floor(Math.random()*(n.length-1))]}function getRandomWord(e){var t=words;void 0!==e&&(t=longWords);return t[Math.floor(Math.random()*t.length-1)]}var input=document.querySelector("#coldInput"),output=document.querySelector("#coldOutput"),queue=new Deque,wordQueue=new Deque,startingText="Cold Type Practice";queue.enqueue(startingText.split("")),wordQueue.enqueue(startingText.split(" ")),input.addEventListener("input",function(){var e=input.value;if(input.value="","word"==type||"longWord"==type)var t=!0;if(e===queue.peek())popQueues()," "===queue.peek()&&(popQueues(t),appendQueues(getRandom(type,capitalization),t)),!0!==t&&appendQueues(getRandom(type,capitalization));else if(1==functionalities.reset&&!0===t){for(var u=output.textContent.substr(output.textContent.indexOf(" "));!queue.isEmpty();)queue.dequeue(!0);""===wordQueue.peek()&&wordQueue.dequeue(),queue.enqueue((wordQueue.peek()+u).split("")),output.textContent=wordQueue.peek()+u}});var type="keyboardCharacters",capitalization="random",functionalities={reset:!1};String.prototype.capitalize=function(e){if("title"==e)return this.charAt(0).toUpperCase()+this.substring(1);if("lowercase"==e)return this.toLowerCase();for(var t=this.split(""),u=0;u<t.length;u++)0==Math.round(Math.random())&&(t[u]=t[u].toUpperCase());return t.join("")};